const V=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function s(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(e){if(e.ep)return;e.ep=!0;const n=s(e);fetch(e.href,n)}};V();var T,B=new Uint8Array(16);function D(){if(!T&&(T=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!T))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return T(B)}var R=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function O(l){return typeof l=="string"&&R.test(l)}var y=[];for(var w=0;w<256;++w)y.push((w+256).toString(16).substr(1));function j(l){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=(y[l[i+0]]+y[l[i+1]]+y[l[i+2]]+y[l[i+3]]+"-"+y[l[i+4]]+y[l[i+5]]+"-"+y[l[i+6]]+y[l[i+7]]+"-"+y[l[i+8]]+y[l[i+9]]+"-"+y[l[i+10]]+y[l[i+11]]+y[l[i+12]]+y[l[i+13]]+y[l[i+14]]+y[l[i+15]]).toLowerCase();if(!O(s))throw TypeError("Stringified UUID is invalid");return s}function X(l,i,s){l=l||{};var a=l.random||(l.rng||D)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,i){s=s||0;for(var e=0;e<16;++e)i[s+e]=a[e];return i}return j(a)}function G(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var I={exports:{}};(function(l,i){(function(s,a){l.exports=a()})(window,function(){return function(s){var a={};function e(n){if(a[n])return a[n].exports;var r=a[n]={i:n,l:!1,exports:{}};return s[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=s,e.c=a,e.d=function(n,r,u){e.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:u})},e.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,r){if(1&r&&(n=e(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var u=Object.create(null);if(e.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var g in n)e.d(u,g,function(v){return n[v]}.bind(null,g));return u},e.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(r,"a",r),r},e.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},e.p="",e(e.s=3)}([function(s,a,e){var n=function(r){return typeof r=="number"&&!isNaN(r)};s.exports=function(r,u){var g=(u=u||u.currentTarget).getBoundingClientRect(),v=r.originalEvent||r,b=0,m=0;return r.touches&&r.touches.length?n(r.touches[0].pageX)&&n(r.touches[0].pageY)?(b=r.touches[0].pageX,m=r.touches[0].pageY):n(r.touches[0].clientX)&&n(r.touches[0].clientY)&&(b=v.touches[0].clientX,m=v.touches[0].clientY):n(r.pageX)&&n(r.pageY)?(b=r.pageX,m=r.pageY):r.currentPoint&&n(r.currentPoint.x)&&n(r.currentPoint.y)&&(b=r.currentPoint.x,m=r.currentPoint.y),{x:b-g.left,y:m-g.top}}},function(s,a,e){(function(n){var r=n.CustomEvent;s.exports=function(){try{var u=new r("cat",{detail:{foo:"bar"}});return u.type==="cat"&&u.detail.foo==="bar"}catch{}return!1}()?r:typeof document!="undefined"&&typeof document.createEvent=="function"?function(u,g){var v=document.createEvent("CustomEvent");return g?v.initCustomEvent(u,g.bubbles,g.cancelable,g.detail):v.initCustomEvent(u,!1,!1,void 0),v}:function(u,g){var v=document.createEventObject();return v.type=u,g?(v.bubbles=Boolean(g.bubbles),v.cancelable=Boolean(g.cancelable),v.detail=g.detail):(v.bubbles=!1,v.cancelable=!1,v.detail=void 0),v}}).call(this,e(2))},function(s,a){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch{typeof window=="object"&&(e=window)}s.exports=e},function(s,a,e){e.r(a);var n=e(1),r=e.n(n);function u(o){return o.offsetWidth===0||o.offsetHeight===0||o.open===!1}window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;var g=Number.isNaN||function(o){return o!=o},v=Number.isFinite||function(o){return!(typeof o!="number"||g(o)||o===1/0||o===-1/0)},b=function(){var o=[],d=!1;function c(){d||(d=!0,window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,66))}function t(){o.forEach(function(h){h()}),d=!1}return{add:function(h){!o.length&&window.addEventListener("resize",c),function(f){f&&o.push(f)}(h)}}}(),m={emit:function(o,d,c){o.dispatchEvent(new r.a(d,c))},isFiniteNumber:v,getFirstNumberLike:function(){if(!arguments.length)return null;for(var o=0,d=arguments.length;o<d;o++)if(c=arguments[o],v(parseFloat(c))||v(c))return arguments[o];var c},getDimension:function(o,d){var c,t=function(S){for(var k=[],L=S.parentNode;L&&u(L);)k.push(L),L=L.parentNode;return k}(o),h=t.length,f=[],p=o[d],E=0;function F(S){S.open!==void 0&&(S.open=!S.open)}if(h){for(E=0;E<h;E++)c=t[E].style,f[E]=c.display,c.display="block",c.height="0",c.overflow="hidden",c.visibility="hidden",F(t[E]);for(p=o[d],E=0;E<h;E++)c=t[E].style,F(t[E]),c.display=f[E],c.height="",c.overflow="",c.visibility=""}return p},insertAfter:function(o,d){o.parentNode.insertBefore(d,o.nextSibling)},forEachAncestorsAndSelf:function(o,d){for(d(o);o.parentNode&&!d(o);)o=o.parentNode;return o},clamp:function(o,d,c){return d<c?o<d?d:o>c?c:o:o<c?c:o>d?d:o},optimizedResize:b},C=e(0),x=e.n(C),_={MIN_DEFAULT:0,MAX_DEFAULT:100,RANGE_CLASS:"rangeslider",FILL_CLASS:"rangeslider__fill",FILL_BG_CLASS:"rangeslider__fill__bg",HANDLE_CLASS:"rangeslider__handle",DISABLED_CLASS:"rangeslider--disabled",STEP_DEFAULT:1,START_EVENTS:["mousedown","touchstart","pointerdown"],MOVE_EVENTS:["mousemove","touchmove","pointermove"],END_EVENTS:["mouseup","touchend","pointerup"],PLUGIN_NAME:"rangeslider-js"};function M(o,d){for(var c=0;c<d.length;c++){var t=d[c];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(o,t.key,t)}}var A=function(o){var d=document&&document.createElement("div");return d.classList.add(o),d},P=function(o){return"".concat(o).replace(".","").length-1},N=function(){function o(t,h){var f=this;(function(p,E){if(!(p instanceof E))throw new TypeError("Cannot call a class as a function")})(this,o),h=h||{},this.element=t,this.options=h,this.onSlideEventsCount=-1,this.isInteracting=!1,this.needTriggerEvents=!1,this.constructor.count=this.constructor.count||0,this.identifier="js-".concat(_.PLUGIN_NAME,"-").concat(this.constructor.count++),this.min=m.getFirstNumberLike(h.min,parseFloat(t.getAttribute("min")),_.MIN_DEFAULT),this.max=m.getFirstNumberLike(h.max,parseFloat(t.getAttribute("max")),_.MAX_DEFAULT),this.value=m.getFirstNumberLike(h.value,parseFloat(t.getAttribute("value")),this.min+(this.max-this.min)/2),this.step=m.getFirstNumberLike(h.step,parseFloat(t.getAttribute("step")),_.STEP_DEFAULT),this.percent=null,this._updatePercentFromValue(),this.toFixed=P(this.step),this.range=A(_.RANGE_CLASS),this.range.id=this.identifier,this.fillBg=A(_.FILL_BG_CLASS),this.fill=A(_.FILL_CLASS),this.handle=A(_.HANDLE_CLASS),["fillBg","fill","handle"].forEach(function(p){return f.range.appendChild(f[p])}),["min","max","step"].forEach(function(p){return t.setAttribute(p,"".concat(f[p]))}),this._setValue(this.value),m.insertAfter(t,this.range),t.style.position="absolute",t.style.width="1px",t.style.height="1px",t.style.overflow="hidden",t.style.opacity="0",["_update","_handleDown","_handleMove","_handleEnd","_startEventListener","_changeEventListener"].forEach(function(p){f[p]=f[p].bind(f)}),this._init(),m.optimizedResize.add(this._update),_.START_EVENTS.forEach(function(p){return f.range.addEventListener(p,f._startEventListener)}),t.addEventListener("change",this._changeEventListener)}var d,c;return d=o,(c=[{key:"_init",value:function(){this._update(),this.options.onInit&&this.options.onInit.call(this,this.value,this.percent,this.position)}},{key:"_updatePercentFromValue",value:function(){this.percent=(this.value-this.min)/(this.max-this.min)}},{key:"_startEventListener",value:function(t){var h=t.target,f=this.identifier,p=!1;m.forEachAncestorsAndSelf(h,function(E){return p=E.id===f&&!E.classList.contains(_.DISABLED_CLASS)}),p&&this._handleDown(t)}},{key:"_changeEventListener",value:function(t,h){(h&&h.origin)!==this.identifier&&this._setPosition(this._getPositionFromValue(t.target.value))}},{key:"_update",value:function(){this.handleWidth=m.getDimension(this.handle,"offsetWidth"),this.rangeWidth=m.getDimension(this.range,"offsetWidth"),this.maxHandleX=this.rangeWidth-this.handleWidth,this.grabX=this.handleWidth/2,this.position=this._getPositionFromValue(this.value),this.range.classList[this.element.disabled?"add":"remove"](_.DISABLED_CLASS),this._setPosition(this.position),this._updatePercentFromValue(),this._emit("change")}},{key:"_listen",value:function(t){var h=this,f="".concat(t?"add":"remove","EventListener");_.MOVE_EVENTS.forEach(function(p){return document&&document[f](p,h._handleMove)}),_.END_EVENTS.forEach(function(p){document&&document[f](p,h._handleEnd),h.range[f](p,h._handleEnd)})}},{key:"_handleDown",value:function(t){if(t.preventDefault(),this.isInteracting=!0,this._listen(!0),!t.target.classList.contains(_.HANDLE_CLASS)){var h=x()(t,this.range).x,f=this.range.getBoundingClientRect().left,p=this.handle.getBoundingClientRect().left-f;this._setPosition(h-this.grabX),h>=p&&h<p+this.handleWidth&&(this.grabX=h-p),this._updatePercentFromValue()}}},{key:"_handleMove",value:function(t){this.isInteracting=!0,t.preventDefault();var h=x()(t,this.range).x;this._setPosition(h-this.grabX)}},{key:"_handleEnd",value:function(t){t.preventDefault(),this._listen(!1),this._emit("change"),(this.isInteracting||this.needTriggerEvents)&&this.options.onSlideEnd&&this.options.onSlideEnd.call(this,this.value,this.percent,this.position),this.onSlideEventsCount=0,this.isInteracting=!1}},{key:"_setPosition",value:function(t){var h=this.isInteracting?this._getValueFromPosition(m.clamp(t,0,this.maxHandleX)):this.value,f=this._getPositionFromValue(h);this.fill.style.width=f+this.grabX+"px",this.handle.style.webkitTransform=this.handle.style.transform="translate(".concat(f,"px, -50%)"),this._setValue(h),this.position=f,this.value=h,this._updatePercentFromValue(),(this.isInteracting||this.needTriggerEvents)&&(this.options.onSlideStart&&this.onSlideEventsCount===0&&this.options.onSlideStart.call(this,this.value,this.percent,this.position),this.options.onSlide&&this.options.onSlide.call(this,this.value,this.percent,this.position)),this.onSlideEventsCount++}},{key:"_getPositionFromValue",value:function(t){return(t-this.min)/(this.max-this.min)*this.maxHandleX}},{key:"_getValueFromPosition",value:function(t){var h=t/(this.maxHandleX||1),f=this.step*Math.round(h*(this.max-this.min)/this.step)+this.min;return Number(f.toFixed(this.toFixed))}},{key:"_setValue",value:function(t){(t=m.clamp(t,this.min,this.max))===this.value&&t===this.element.value||(this.value=this.element.value=t,this._emit("input"))}},{key:"_emit",value:function(t){m.emit(this.element,t,{origin:this.identifier})}},{key:"update",value:function(t,h){return t=t||{},Object.keys(t).forEach(function(f){return typeof t[f]=="string"&&(t[f]=parseFloat(t[f]))}),this.needTriggerEvents=h,m.isFiniteNumber(t.min)&&(this.element.setAttribute("min","".concat(t.min)),this.min=t.min),m.isFiniteNumber(t.max)&&(this.element.setAttribute("max","".concat(t.max)),this.max=t.max),m.isFiniteNumber(t.step)&&(this.element.setAttribute("step","".concat(t.step)),this.step=t.step,this.toFixed=P(t.step)),m.isFiniteNumber(t.value)&&this._setValue(t.value),this._update(),this.onSlideEventsCount=0,this.needTriggerEvents=!1,this}},{key:"destroy",value:function(){var t=this;typeof window!="undefined"&&window.removeEventListener("resize",this._update,!1),_.START_EVENTS.forEach(function(h){return t.range.removeEventListener(h,t._startEventListener)}),this.element.removeEventListener("change",this._changeEventListener),this.element.style.cssText="",delete this.element[_.PLUGIN_NAME],this.range.parentNode.removeChild(this.range)}}])&&M(d.prototype,c),o}();a.default={RangeSlider:N,utils:m,create:function(o,d){function c(t){t[_.PLUGIN_NAME]=t[_.PLUGIN_NAME]||new N(t,d)}o&&(o.length?Array.prototype.slice.call(o).forEach(function(t){return c(t)}):c(o))}}}]).default})})(I);var H=G(I.exports);class U{constructor(i){this.tileState=i,this.__build()}__build(){this.element=document.createElement("div"),this.element.classList.add("canvas__tile"),this.setTileState(this.tileState.state),this.element.setAttribute("data-x",this.tileState.x.toString()),this.element.setAttribute("data-y",this.tileState.y.toString()),this.element.setAttribute("data-id",this.tileState.id)}render(i){i.append(this.element)}setTileState(i){this.element.classList.remove(`canvas__tile--${this.tileState.state}`),this.tileState.state=i,this.element.classList.add(`canvas__tile--${this.tileState.state}`)}get id(){return this.tileState.id}get weight(){return this.tileState.weight}get x(){return this.tileState.x}get y(){return this.tileState.y}get state(){return this.tileState.state}}var z=l=>{let i=q(l),s=!1,a=[i.find(n=>n.state===2)],e=[];for(;!s;){let n=a[0];if(n!==void 0){e.push({id:n.id,state:6});const r=W(i,n);for(let u=0;u<r.length;u++){if(r[u].state===1)continue;const g=n.distance+r[u].weight;if((r[u].distance===1/0||g<r[u].distance)&&(r[u].distance=g,r[u].parent_id=n.id,a.push(r[u]),e.push({id:r[u].id,state:5})),r[u].state===3){s=!0,e=e.concat($(i,r[u]));break}}a.shift()}else break}return e};const q=l=>{const i=[];for(const[s,a]of l)i.push({x:a.x,y:a.y,weight:a.weight,state:a.state,id:a.id,distance:a.state===2?0:1/0,parent_id:void 0});return i},W=(l,i)=>{const s=[],a=l.find(u=>u.x===i.x&&u.y===i.y-1),e=l.find(u=>u.x===i.x+1&&u.y===i.y),n=l.find(u=>u.x===i.x&&u.y===i.y+1),r=l.find(u=>u.x===i.x-1&&u.y===i.y);return a!==void 0&&s.push(a),e!==void 0&&s.push(e),n!==void 0&&s.push(n),r!==void 0&&s.push(r),s},$=(l,i)=>{let s=!1,a=i;const e=[];for(;!s;){if(a.state===2){s=!0;continue}a.state!==3&&e.push({id:a.id,state:4}),a=l.find(n=>n.id===a.parent_id)}return e};class Y{constructor(i){this.config={resolution:[20,20],start:{finder:[2,2],target:[17,17]}},this.locked=!1,this.algorithmTilesPainted=!1,this.canvasElement=document.querySelector(i),this.tileMap=new Map,this.painterBtns=document.querySelectorAll("[data-painter]"),this.activePainter=0,this.__setActivePainter(this.activePainter),this.__initiateGrid(),this.__initiatePainterBtns(),this.__iniitateAlgorithms()}__initiateGrid(){this.__buildGrid(),this.__gridPaintHandler(),this.__renderTiles(),this.__gridSizeScaler()}__buildGrid(){this.canvasElement.innerHTML="",this.canvasElement.style.setProperty("--cols",`${this.config.resolution[0]}`);for(let i=0;i<this.config.resolution[0];i++)for(let s=0;s<this.config.resolution[1];s++){const a=X();let e=0;i===0&&s===0?e=2:i===this.config.resolution[0]-1&&s===this.config.resolution[1]-1&&(e=3),this.tileMap.set(a,new U({id:a,x:i,y:s,state:e,weight:1}))}}__gridPaintHandler(){this.canvasElement.addEventListener("mouseup",()=>this.paint=!1,{passive:!0}),this.canvasElement.addEventListener("touchend",()=>this.paint=!1,{passive:!0}),this.canvasElement.addEventListener("touchcancel",()=>this.paint=!1,{passive:!0}),this.canvasElement.addEventListener("mouseleave",()=>this.paint=!1,{passive:!0});const i=a=>{this.paint=!0;const e=a.target;this.__paintTileHandler(e.getAttribute("data-id"))},s=a=>{if(this.paint){const e=a.target;e.classList.contains("canvas__tile")&&this.__paintTileHandler(e.getAttribute("data-id"))}};this.canvasElement.addEventListener("mousedown",i,{passive:!0}),this.canvasElement.addEventListener("touchstart",i,{passive:!0}),this.canvasElement.addEventListener("mousemove",s,{passive:!1})}__renderTiles(){for(const[i,s]of this.tileMap)s.render(this.canvasElement)}__gridSizeScaler(){const i=document.getElementById("gridSize");H.create(document.getElementById("gridRangeSlider"),{onSlide:(s,a,e)=>{i.innerText=`${s}x${s}`},onSlideEnd:(s,a,e)=>{this.config.resolution=[s,s],this.locked=!1,this.algorithmTilesPainted=!1,this.tileMap=new Map,this.__buildGrid(),this.__renderTiles()}})}__paintTileHandler(i){if(!this.locked){this.activePainter===2?this.__resetTileTypeToBlank(2):this.activePainter===3&&this.__resetTileTypeToBlank(3);const s=this.tileMap.get(i);s.state!==2&&s.state!==3&&s.setTileState(this.activePainter),this.algorithmTilesPainted&&this.__resetAlgorithmTileState()}}__resetTileTypeToBlank(i){for(const[s,a]of this.tileMap)a.state===i&&a.setTileState(0)}__resetAlgorithmTileState(){for(const[i,s]of this.tileMap)(s.state===4||s.state===5||s.state===6)&&s.setTileState(0);this.algorithmTilesPainted=!1}__animateTiles(i){this.algorithmTilesPainted=!0;const s=(a,e,n)=>{setTimeout(()=>{e.setTileState(n),a===i.length-1&&(this.locked=!1)},a*10)};for(let a=0;a<i.length;a++){const e=this.tileMap.get(i[a].id);if(e.state===0||e.state===5||e.state===6)s(a,e,i[a].state);else continue}}__initiatePainterBtns(){for(let i=0;i<this.painterBtns.length;i++)this.painterBtns[i].addEventListener("click",s=>{const a=s.target,e=parseInt(a.getAttribute("data-painter"));this.__setActivePainter(e)},{passive:!0})}__setActivePainter(i){this.activePainter=i;for(let s=0;s<this.painterBtns.length;s++)this.painterBtns[s].classList.remove("active");document.querySelector(`[data-painter="${i}"]`).classList.add("active")}__iniitateAlgorithms(){document.getElementById("start-algorithm").addEventListener("click",()=>this.__startAlgorithm(),{passive:!0})}__startAlgorithm(){const i=document.getElementById("algorithmsInp");if(!this.locked){this.locked=!0,this.__resetAlgorithmTileState();let s;i.value==="dijkstra"&&(s=z(this.tileMap),this.__animateTiles(s)),s.length===1&&this.__algorithmFailed()}}__algorithmFailed(){this.locked=!1}}new Y(".canvas");
